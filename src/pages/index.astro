---
import Layout from '@/layouts/Layout.astro';
import { sections } from '@/data/site';
import HeroCard from '@/components/HeroCard.astro';
import SocialCard from '@/components/SocialCard.astro';
import AtAGlanceCard from '@/components/AtAGlanceCard.astro';
import AboutCard from '@/components/AboutCard.astro';
import PhilosophyCard from '@/components/PhilosophyCard.astro';
import IndustryCard from '@/components/IndustryCard.astro';
import InsightsCard from '@/components/InsightsCard.astro';
import TestimonialsCard from '@/components/TestimonialsCard.astro';
import AspirationCard from '@/components/AspirationCard.astro';
import MentoringCard from '@/components/MentoringCard.astro';
import ExperienceSection from '@/components/ExperienceSection.astro';
import SkillsSection from '@/components/SkillsSection.astro';
import CertCard from '@/components/CertCard.astro';
import EducationCard from '@/components/EducationCard.astro';
import ContactCard from '@/components/ContactCard.astro';
import pkg from '../../package.json';

const buildDate = new Date().toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric'
});
const siteVersion = pkg.version;
---

<Layout>
  <main class="max-w-6xl mx-auto px-4 py-8 md:py-16">
    <!-- Bento Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">

      <!-- Row 1: Hero (2x2) + Social + Stats -->
      {sections.hero && <HeroCard />}
      {sections.social && <SocialCard />}
      {sections.atAGlance && <AtAGlanceCard />}

      <!-- Row 2 (fills beside hero): About (2x1) -->
      {sections.about && <AboutCard />}

      <!-- Row 3: Leadership Philosophy (2x1) + Career Aspiration (2x1) -->
      {sections.philosophy && <PhilosophyCard />}
      {sections.aspiration && <AspirationCard />}

      <!-- Row 4: Community & Mentoring (2x1) + Testimonials (2x1) -->
      {sections.mentoring && <MentoringCard />}
      {sections.testimonials && <TestimonialsCard />}

      <!-- Row 5: Industry Expertise (full width) -->
      {sections.industry && <IndustryCard />}

      <!-- Row 6: Thought Leadership -->
      {sections.insights && <InsightsCard />}

      <!-- Row 7: Education + Certifications -->
      {sections.education && <EducationCard />}
      {sections.certifications && <CertCard />}

      <!-- Row 8: Experience (full width) -->
      {sections.experience && <ExperienceSection />}

      <!-- Row 9: Skills (4 cards) -->
      {sections.skills && <SkillsSection />}

      <!-- Row 10: Contact (full width) -->
      {sections.contact && <ContactCard />}
    </div>

    <!-- Footer -->
    <footer class="text-center text-text-muted mt-12 pb-8">
      <p style="font-family: var(--font-cursive); font-size: 1.25rem;">☕ Brew by <span class="gradient-text font-bold">Gobinath Mallaiyan</span> · powered by <a href="https://astro.build" target="_blank" rel="noopener noreferrer" class="text-accent/60 hover:text-accent transition-colors">Astro</a>, <a href="https://tailwindcss.com" target="_blank" rel="noopener noreferrer" class="text-accent/60 hover:text-accent transition-colors">Tailwind</a> &amp; <a href="https://pages.github.com" target="_blank" rel="noopener noreferrer" class="text-accent/60 hover:text-accent transition-colors">GitHub Pages</a></p>
      <p class="mt-2 opacity-50 font-mono text-[10px]">
        v{siteVersion} · Build: {buildDate}
      </p>
    </footer>
  </main>
</Layout>
